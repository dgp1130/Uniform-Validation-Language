@filled: /"."/;
@integer: /"^[0-9]{4}$"/;

$("#rootForm") {
	valid: $("#subForm") is valid;
}

$("#subForm") {
    valid: not $("#hasCar") or (
    	$("#make") matches @filled and
	    $("#model") matches @filled and
	    $("#year") matches @integer
	) and any $(".test") matches @filled;
}

$("#subForm input") {
    enabled: $("#hasCar") equals true;
}