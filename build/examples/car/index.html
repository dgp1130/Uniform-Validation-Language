<!DOCTYPE html>
<html>
    <head>
        <title>Car Form</title>
        <script src="/lib/jquery/dist/jquery.js"></script>
        <script src="/uniform.js"></script>
        <script>uniform.options.href("car.ufm");</script>
    </head>
    <body>
        <h2>Car form</h2>
        <form id="rootForm" method="POST" action="submit">
            <input name="hasCar" id="hasCarId" type="checkbox" /><label for="hasCarId">I have a car</label>
            <br /><br />
            
            <div id="subForm">
                <label for="makeId">Make:</label><input name="make" id="makeId" type="text"/><br />
                <label for="modelId">Model:</label><input name="model" id="modelId" type="text"/><br />
                <label for="yearId">Year:</label><input name="year" id="yearId" type="text"/><br />
                <br />
            </div>

            <input type="submit" value="Submit" />
        </form>
        <hr />
        <input id="isValid" type="checkbox" disabled="disabled" /><label for="isValid">Valid?</label>
    </body>
    <script>
        // Listen for Uniform to issue an update
        $(document).on("ufm:update", function (evt, tag, token) {
            // If the valid tag triggered, update the displayed check box
            if (tag === "valid") {
                $("#isValid").prop("checked", token.value);
            }
        });
    </script>
</html>
