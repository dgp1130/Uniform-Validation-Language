<!DOCTYPE html>
<html>
	<head>
		<title>Car Form</title>
		<script src="/lib/jquery/dist/jquery.js"></script>
		<script src="/uniform.js"></script>
		<script>uniform.options.href("car.ufm");</script>
	</head>
	<body>
		<h2>Car form</h2>
		<form id="rootForm" method="POST" action="submit">
            <input name="hasCar" id="hasCarId" type="checkbox" /><label for="hasCarId">I have a car</label>
			<br /><br />
            
			<div id="subForm">
				<label for="makeId">Make:</label><input name="make" id="makeId" type="text"/><br />
				<label for="modelId">Model:</label><input name="model" id="modelId" type="text"/><br />
                <label for="yearId">Year:</label><input name="year" id="yearId" type="text"/><br />
			</div>
			<br />

			<div id="testForm">
				<label for="test1Id">Test 1:</label><input name="test1" id="test1Id" class="test" type="text"/><br />
                <label for="test2Id">Test 2:</label><input name="test2" id="test2Id" class="test" type="text"/><br />
                <label for="test3Id">Test 3:</label><input name="test3" id="test3Id" class="test" type="text"/><br />
			</div>
			<br />

			<input type="submit" value="Submit" />
		</form>
		<hr />
		<input id="isValid" type="checkbox" disabled="disabled" /><label for="isValid">Valid?</label>
	</body>
	<script>
        // Listen for Uniform to issue an update
		$(document).on("ufm:update", function (evt, tag, token) {
		    // If the valid tag triggered, update the displayed check box
		    if (tag === "valid") {
		        $("#isValid").prop("checked", token.value);
            }
        });
	</script>
</html>
