<!DOCTYPE html>
<html>
	<head>
		<title>Car Form</title>
		<script src="/lib/jquery/dist/jquery.js"></script>
		<script src="/uniform.js"></script>
		<script>uniform.options.href("car.ufm");</script>
	</head>
	<body>
		<h2>Car form</h2>
		<form id="rootForm">
			<input id="hasCar" type="checkbox" />I have a car
			<br /><br />

			<div id="carForm">
				<table>
					<tr>
						<td>Make:</td>
						<td><input id="make" type="text" /></td>
					</tr>
					<tr>
						<td>Model:</td>
						<td><input id="model" type="text" /></td>
					</tr>
					<tr>
						<td>Year:</td>
						<td><input id="year" type="text"/></td>
					</tr>
				</table>
			</div>
			<br />

			<input type="submit" value="Submit" />
		</form>
		<hr />
		<input id="isValid" type="checkbox" disabled="disabled" /> Valid?
	</body>
	<script>
		var $rootForm = $("#rootForm");

		$rootForm.on("submit", function (evt) {
			if (!$("#rootForm").ufm().valid()) {
				alert("Invalid Form!");
			}
			else alert("Valid Form Submitted!");
			evt.preventDefault();
		});

		$rootForm.on("ufm:validate", function () {
			$("#isValid").prop("checked", $rootForm.ufm().valid());
		});
	</script>
</html>
